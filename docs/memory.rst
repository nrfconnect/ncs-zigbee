.. _zigbee_memory:

Memory requirements
###################

.. contents::
   :local:
   :depth: 2

This page provides information about the amount of flash memory and RAM that is required by the :ref:`zigbee_samples`, as well as stack memory requirements for ``main`` and ``zboss`` threads.
Use it to check if your application has enough space for a given configuration.
Values are provided for :ref:`ZBOSS libraries <zigbee_zboss>`.

Samples were built using the available :ref:`zigbee_zboss`.
Unless stated otherwise, the default :file:`prj.conf` was used.

RAM and flash memory requirements
*********************************

RAM and flash memory requirement values differ depending on the programmed sample.

The following tables list memory requirement values for Zigbee samples.

Values are provided in kilobytes (KB).
``n/a`` indicates that the sample with the given variant is not supported on the DK.

.. tabs::

   .. group-tab:: nRF54L15

      The following table lists memory requirements for samples running on the `nRF54L15 DK <Board support_>`_ (`nrf54l15dk`_).

      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | Sample                                                                                                                 | ROM, ZBOSS stack + App   | ROM, MCUboot bootloader   | ROM, ZBOSS non-volatile memory   | ROM, ZBOSS product config   | Total ROM   | RAM, ZBOSS stack + App   | Total RAM   |
      +========================================================================================================================+==========================+===========================+==================================+=============================+=============+==========================+=============+
      | :ref:`Network coordinator <zigbee_network_coordinator_sample>`                                                         | 387                      | 0                         | 32                               | 4                           | 423         | 80                       | 80          |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Light bulb <zigbee_light_bulb_sample>`                                                                           | 411                      | 0                         | 32                               | 4                           | 447         | 60                       | 60          |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Light switch <zigbee_light_switch_sample>`                                                                       | 317                      | 0                         | 32                               | 4                           | 353         | 50                       | 50          |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Light switch <zigbee_light_switch_sample>` with :ref:`lib_zigbee_fota`                                           | 333                      | 66                        | 32                               | 4                           | 435         | 58                       | 58          |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Light switch <zigbee_light_switch_sample>` with :ref:`zigbee_light_switch_sample_nus`                            | 444                      | 0                         | 32                               | 4                           | 480         | 67                       | 67          |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`NCP <zigbee_ncp_sample>`                                                                                         | 410                      | 0                         | 32                               | 4                           | 446         | 87                       | 87          |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`NCP with USB transport <zigbee_ncp_sample>`                                                                      | n/a                      | n/a                       | n/a                              | n/a                         | n/a         | n/a                      | n/a         |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Zigbee application template <zigbee_template_sample>`                                                            | 386                      | 0                         | 32                               | 4                           | 422         | 70                       | 70          |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Zigbee shell <zigbee_shell_sample>`                                                                              | 465                      | 0                         | 32                               | 4                           | 501         | 86                       | 86          |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Zigbee shell over USB <zigbee_shell_sample>`                                                                     | n/a                      | n/a                       | n/a                              | n/a                         | n/a         | n/a                      | n/a         |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+

   .. group-tab:: nRF54L10

      The following table lists memory requirements for samples running on the `nRF54L10 emulation on the nRF54L15 DK <Board support_>`_ (`nrf54l15dk`_).

      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | Sample                                                                                                                 | ROM, ZBOSS stack + App   | ROM, MCUboot bootloader   | ROM, ZBOSS non-volatile memory   | ROM, ZBOSS product config   | Total ROM   | RAM, ZBOSS stack + App   | Total RAM   |
      +========================================================================================================================+==========================+===========================+==================================+=============================+=============+==========================+=============+
      | :ref:`Network coordinator <zigbee_network_coordinator_sample>`                                                         | 387                      | 0                         | 32                               | 4                           | 423         | 80                       | 80          |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Light bulb <zigbee_light_bulb_sample>`                                                                           | 411                      | 0                         | 32                               | 4                           | 447         | 60                       | 60          |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Light switch <zigbee_light_switch_sample>`                                                                       | 317                      | 0                         | 32                               | 4                           | 353         | 50                       | 50          |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Light switch <zigbee_light_switch_sample>` with :ref:`lib_zigbee_fota`                                           | 333                      | 66                        | 32                               | 4                           | 435         | 58                       | 58          |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Light switch <zigbee_light_switch_sample>` with :ref:`zigbee_light_switch_sample_nus`                            | 444                      | 0                         | 32                               | 4                           | 480         | 67                       | 67          |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`NCP <zigbee_ncp_sample>`                                                                                         | 410                      | 0                         | 32                               | 4                           | 446         | 87                       | 87          |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`NCP with USB transport <zigbee_ncp_sample>`                                                                      | n/a                      | n/a                       | n/a                              | n/a                         | n/a         | n/a                      | n/a         |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Zigbee application template <zigbee_template_sample>`                                                            | 386                      | 0                         | 32                               | 4                           | 422         | 70                       | 70          |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Zigbee shell <zigbee_shell_sample>`                                                                              | 465                      | 0                         | 32                               | 4                           | 501         | 86                       | 86          |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Zigbee shell over USB <zigbee_shell_sample>`                                                                     | n/a                      | n/a                       | n/a                              | n/a                         | n/a         | n/a                      | n/a         |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+


   .. group-tab:: nRF54L05

      The following table lists memory requirements for samples running on the `nRF54L05 emulation on the nRF54L15 DK <Board support_>`_ (`nrf54l15dk`_).

      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | Sample                                                                                                                 | ROM, ZBOSS stack + App   | ROM, MCUboot bootloader   | ROM, ZBOSS non-volatile memory   | ROM, ZBOSS product config   | Total ROM   | RAM, ZBOSS stack + App   | Total RAM   |
      +========================================================================================================================+==========================+===========================+==================================+=============================+=============+==========================+=============+
      | :ref:`Network coordinator <zigbee_network_coordinator_sample>`                                                         | n/a                      | n/a                       | n/a                              | n/a                         | n/a         | n/a                      | n/a         |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Light bulb <zigbee_light_bulb_sample>`                                                                           | n/a                      | n/a                       | n/a                              | n/a                         | n/a         | n/a                      | n/a         |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Light switch <zigbee_light_switch_sample>`                                                                       | n/a                      | n/a                       | n/a                              | n/a                         | n/a         | n/a                      | n/a         |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Light switch <zigbee_light_switch_sample>` with :ref:`lib_zigbee_fota`                                           | n/a                      | n/a                       | n/a                              | n/a                         | n/a         | n/a                      | n/a         |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Light switch <zigbee_light_switch_sample>` with :ref:`zigbee_light_switch_sample_nus`                            | n/a                      | n/a                       | n/a                              | n/a                         | n/a         | n/a                      | n/a         |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`NCP <zigbee_ncp_sample>`                                                                                         | 410                      | 0                         | 32                               | 4                           | 446         | 87                       | 87          |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`NCP with USB transport <zigbee_ncp_sample>`                                                                      | n/a                      | n/a                       | n/a                              | n/a                         | n/a         | n/a                      | n/a         |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Zigbee application template <zigbee_template_sample>`                                                            | n/a                      | n/a                       | n/a                              | n/a                         | n/a         | n/a                      | n/a         |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Zigbee shell <zigbee_shell_sample>`                                                                              | n/a                      | n/a                       | n/a                              | n/a                         | n/a         | n/a                      | n/a         |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Zigbee shell over USB <zigbee_shell_sample>`                                                                     | n/a                      | n/a                       | n/a                              | n/a                         | n/a         | n/a                      | n/a         |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+

   .. group-tab:: nRF52840

      The following table lists memory requirements for samples running on the `nRF52840 DK <Board support_>`_ (`nrf52840dk`_).

      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | Sample                                                                                                                 | ROM, ZBOSS stack + App   | ROM, MCUboot bootloader   | ROM, ZBOSS non-volatile memory   | ROM, ZBOSS product config   | Total ROM   | RAM, ZBOSS stack + App   | Total RAM   |
      +========================================================================================================================+==========================+===========================+==================================+=============================+=============+==========================+=============+
      | :ref:`Network coordinator <zigbee_network_coordinator_sample>`                                                         | 409                      | 0                         | 32                               | 4                           | 445         | 84                       | 84          |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Light bulb <zigbee_light_bulb_sample>`                                                                           | 433                      | 0                         | 32                               | 4                           | 469         | 64                       | 64          |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Light switch <zigbee_light_switch_sample>`                                                                       | 340                      | 0                         | 32                               | 4                           | 376         | 54                       | 54          |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Light switch <zigbee_light_switch_sample>` with :ref:`lib_zigbee_fota`                                           | 356                      | 48                        | 32                               | 4                           | 440         | 62                       | 62          |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Light switch <zigbee_light_switch_sample>` with :ref:`zigbee_light_switch_sample_nus`                            | 453                      | 0                         | 32                               | 4                           | 489         | 70                       | 70          |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`NCP <zigbee_ncp_sample>`                                                                                         | 432                      | 0                         | 32                               | 4                           | 468         | 91                       | 91          |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`NCP with USB transport <zigbee_ncp_sample>`                                                                      | 450                      | 64                        | 32                               | 4                           | 550         | 100                      | 100         |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Zigbee application template <zigbee_template_sample>`                                                            | 408                      | 0                         | 32                               | 4                           | 444         | 74                       | 74          |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Zigbee shell <zigbee_shell_sample>`                                                                              | 488                      | 0                         | 32                               | 4                           | 524         | 91                       | 91          |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Zigbee shell over USB <zigbee_shell_sample>`                                                                     | 506                      | 0                         | 32                               | 4                           | 542         | 100                      | 100         |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
   
   .. group-tab:: nRF52840 Dongle

      The following table lists memory requirements for samples running on the `nRF52840 Dongle DK <Board support_>`_  (`nrf52840dongle`_).

      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | Sample                                                                                                                 | ROM, ZBOSS stack + App   | ROM, MCUboot bootloader   | ROM, ZBOSS non-volatile memory   | ROM, ZBOSS product config   | Total ROM   | RAM, ZBOSS stack + App   | Total RAM   |
      +========================================================================================================================+==========================+===========================+==================================+=============================+=============+==========================+=============+
      | :ref:`Network coordinator <zigbee_network_coordinator_sample>`                                                         | n/a                      | n/a                       | n/a                              | n/a                         | n/a         | n/a                      | n/a         |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Light bulb <zigbee_light_bulb_sample>`                                                                           | n/a                      | n/a                       | n/a                              | n/a                         | n/a         | n/a                      | n/a         |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Light switch <zigbee_light_switch_sample>`                                                                       | n/a                      | n/a                       | n/a                              | n/a                         | n/a         | n/a                      | n/a         |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Light switch <zigbee_light_switch_sample>` with :ref:`lib_zigbee_fota`                                           | n/a                      | n/a                       | n/a                              | n/a                         | n/a         | n/a                      | n/a         |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Light switch <zigbee_light_switch_sample>` with :ref:`zigbee_light_switch_sample_nus`                            | n/a                      | n/a                       | n/a                              | n/a                         | n/a         | n/a                      | n/a         |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`NCP <zigbee_ncp_sample>`                                                                                         | n/a                      | n/a                       | n/a                              | n/a                         | n/a         | n/a                      | n/a         |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`NCP with USB transport <zigbee_ncp_sample>`                                                                      | 444                      | 4                         | 32                               | 4                           | 484         | 99                       | 99          |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Zigbee application template <zigbee_template_sample>`                                                            | n/a                      | n/a                       | n/a                              | n/a                         | n/a         | n/a                      | n/a         |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Zigbee shell <zigbee_shell_sample>`                                                                              | n/a                      | n/a                       | n/a                              | n/a                         | n/a         | n/a                      | n/a         |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+
      | :ref:`Zigbee shell over USB <zigbee_shell_sample>`                                                                     | 500                      | 4                         | 32                               | 4                           | 540         | 98                       | 98          |
      +------------------------------------------------------------------------------------------------------------------------+--------------------------+---------------------------+----------------------------------+-----------------------------+-------------+--------------------------+-------------+


Stack memory requirements
*************************

The following table lists stack memory requirement values for ``main`` and ``zboss`` threads.
These measurements were carried out with Zephyr's `Thread analyzer`_, using the following Kconfig options for configuration:

* For the stack memory size of the ``main`` thread - ``CONFIG_MAIN_STACK_SIZE``
* For the stack memory size of the ``zboss`` thread - ``CONFIG_ZBOSS_DEFAULT_THREAD_STACK_SIZE``

Values are provided in bytes (B).

.. tabs::

   .. group-tab:: nRF54L Series

      The following table lists memory requirements for the `nRF54L Series <Developing with nRF54L Series_>`_ devices.

      +----------------------------------------------------------------+-------------------------------+------------------------------+--------------------------------+-------------------------------+
      | Sample                                                         | ``main`` thread stack usage   | ``main`` thread stack size   | ``zboss`` thread stack usage   | ``zboss`` thread stack size   |
      +================================================================+===============================+==============================+================================+===============================+
      | :ref:`Network coordinator <zigbee_network_coordinator_sample>` | 840                           | 2048                         | 2312                           | 5120                          |
      +----------------------------------------------------------------+-------------------------------+------------------------------+--------------------------------+-------------------------------+
      | :ref:`Light bulb <zigbee_light_bulb_sample>`                   | 840                           | 2048                         | 2112                           | 5120                          |
      +----------------------------------------------------------------+-------------------------------+------------------------------+--------------------------------+-------------------------------+
      | :ref:`Light switch <zigbee_light_switch_sample>`               | 912                           | 2048                         | 2128                           | 5120                          |
      +----------------------------------------------------------------+-------------------------------+------------------------------+--------------------------------+-------------------------------+

   .. group-tab:: nRF52840

      The following table lists memory requirements for the `nRF52840 <Developing with nRF52 Series_>`_ device.

      +----------------------------------------------------------------+-------------------------------+------------------------------+--------------------------------+-------------------------------+
      | Sample                                                         | ``main`` thread stack usage   | ``main`` thread stack size   | ``zboss`` thread stack usage   | ``zboss`` thread stack size   |
      +================================================================+===============================+==============================+================================+===============================+
      | :ref:`Network coordinator <zigbee_network_coordinator_sample>` | 656                           | 2048                         | 3032                           | 5120                          |
      +----------------------------------------------------------------+-------------------------------+------------------------------+--------------------------------+-------------------------------+
      | :ref:`Light bulb <zigbee_light_bulb_sample>`                   | 664                           | 2048                         | 3048                           | 5120                          |
      +----------------------------------------------------------------+-------------------------------+------------------------------+--------------------------------+-------------------------------+
      | :ref:`Light switch <zigbee_light_switch_sample>`               | 728                           | 2048                         | 2996                           | 5120                          |
      +----------------------------------------------------------------+-------------------------------+------------------------------+--------------------------------+-------------------------------+
